(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a0bf507"],{"1ccb":function(a,t,e){"use strict";var r=e("310c"),s=e.n(r);s.a},"310c":function(a,t,e){},d6e5:function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"col-md-9 left-col"},[e("div",{staticClass:"panel panel-default padding-md"},[e("div",{staticClass:"panel-body"},[a._m(0),e("hr"),e("div",{attrs:{"data-validator-form":""}},[e("div",{staticClass:"form-group"},[e("label",[a._v("头像预览：")]),e("div",[e("img",{staticClass:"avatar-preview-img",attrs:{src:a.avatar}})])]),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-md-8"},[e("label",[a._v("地址链接：")]),e("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:a.avatar,expression:"avatar",modifiers:{trim:!0,lazy:!0}},{name:"validator",rawName:"v-validator.required",value:{title:"头像地址"},expression:"{ title: '头像地址' }",modifiers:{required:!0}}],staticClass:"form-control avatar-input",attrs:{type:"text"},domProps:{value:a.avatar},on:{change:function(t){a.avatar=t.target.value.trim()},blur:function(t){return a.$forceUpdate()}}})]),e("div",{staticClass:"clearfix"})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:a.updateAvatar}},[a._v("上传头像")])])])])])])},s=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("h4",[e("b",[a._v("修改头像")])])}],i=e("53ca"),n=e("8d85"),c={name:"EditAvatar",data:function(){return{avatar:"",id:""}},created:function(){var a=this.$store.state.user;a&&"object"===Object(i["a"])(a)&&(this.avatar=a.avatar,this.id=a.id)},methods:{updateAvatar:function(){var a=this,t=this.avatar;if(t){var e=new Image;e.onload=function(){Object(n["i"])(t,a.id).then((function(e){console.log(e.data),a.$store.dispatch("updateUser",{avatar:t}),a.$message({message:"修改成功",type:"success"})})).catch((function(t){a.$message.error("修改失败")}))},e.onerror=function(){a.$message.error("上传失败")},e.src=t}}}},o=c,l=(e("1ccb"),e("2877")),d=Object(l["a"])(o,r,s,!1,null,"7fef0f4d",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-0a0bf507.85540fc5.js.map