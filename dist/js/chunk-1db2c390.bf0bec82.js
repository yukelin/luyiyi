(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1db2c390"],{3735:function(t,e,n){},"6ab8":function(t,e,n){"use strict";var r=n("3735"),a=n.n(r);a.a},acd6:function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return o})),n.d(e,"k",(function(){return s})),n.d(e,"i",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"j",(function(){return m}));var r=n("1bab");function a(t,e,n,a){return Object(r["a"])({url:"article/post",method:"post",params:{title:t,content:e,atype:n,uid:a}})}function i(t){return Object(r["a"])({url:"article/postcontent",params:{uid:t}})}function c(t){return Object(r["a"])({url:"article/content",params:{aid:t}})}function l(t,e,n,a){return Object(r["a"])({url:"article/edit",method:"post",params:{title:t,content:e,atype:n,aid:a}})}function u(t){return Object(r["a"])({url:"article/delete",method:"post",params:{aid:t}})}function o(){return Object(r["a"])({url:"article/all"})}function s(t){return Object(r["a"])({url:"article/useralist",method:"post",params:{username:t}})}function d(t){return Object(r["a"])({url:"article/sort",params:{type:t}})}function f(t){return Object(r["a"])({url:"article/search",method:"post",params:{keyword:t}})}function p(t){return Object(r["a"])({url:"article/typearticle",method:"post",params:{type:t}})}function m(){return Object(r["a"])({url:"article/allarticlesinfo"})}},ae4a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-9 col-sm-12 col-xs-12 left-col pull-right"},[n("div",{staticClass:"panel article-body article-index"},[n("div",{staticClass:"panel-body"},[n("h1",{staticClass:"all-articles"},[t._v("\n        全部文章\n      ")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articleList,"row-key":"id",border:"",lazy:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[n("el-table-column",{attrs:{prop:"avatar",label:"用户",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticClass:"img-avatar",attrs:{src:t.row.avatar,"min-width":"70",height:"70"}})]}}])}),n("el-table-column",{attrs:{prop:"title",label:"标题",align:"center"}}),n("el-table-column",{attrs:{prop:"click_num",label:"浏览量",width:"100",align:"center"}}),n("el-table-column",{attrs:{prop:"comment_num",label:"评论量",width:"100",align:"center"}}),n("el-table-column",{attrs:{prop:"likes_num",label:"点赞量",width:"100",align:"center"}}),n("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[t._v("\n            操作\n          ")]}},{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleView(e.$index,e.row)}}},[t._v("查看")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)])])},a=[],i=(n("ac6a"),n("acd6")),c=(n("8d85"),{name:"AdminArticle",data:function(){return{articleList:[],user_id:"",info:""}},computed:{getInfo:function(){return this.info},user:function(){return this.$store.state.user}},created:function(){this.getAllArticlesInfo()},methods:{handleDelete:function(t,e){var n=this,r=e.aid;this.$swal({text:"你确定要删除此篇文章吗?",confirmButtonText:"删除"}).then((function(t){t.value&&Object(i["b"])(r).then((function(t){n.$message({message:"删除成功",type:"success"})})).catch((function(t){n.$message.error("删除失败")}))}))},handleView:function(t,e){this.$router.push(),this.$router.push({name:"Content",params:{user:e.username,articleId:e.aid}})},getAllArticlesInfo:function(){var t=this,e=[];Object(i["j"])().then((function(n){n.data.forEach((function(t,n,r){var a={aid:t[0].id,user_id:t[0].user_id,title:t[0].title,content:t[0].content,post_date:t[0].post_date,atype:t[0].atype,username:t[1][1],avatar:t[1][2],click_num:t[2][0],comment_num:t[2][1],likes_num:t[2][2]};e.push(a)})),t.articleList=e})).catch((function(t){console.log(t)}))}}}),l=c,u=(n("6ab8"),n("2877")),o=Object(u["a"])(l,r,a,!1,null,"392130e2",null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-1db2c390.bf0bec82.js.map