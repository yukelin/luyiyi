{"version":3,"sources":["webpack:///./src/views/users/Profile.vue?c46a","webpack:///src/views/users/Profile.vue","webpack:///./src/views/users/Profile.vue?95e9","webpack:///./src/views/users/Profile.vue","webpack:///./src/views/users/Profile.vue?2382"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","_v","directives","name","rawName","value","expression","modifiers","domProps","on","$event","target","composing","school","trim","$forceUpdate","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","college","multiple","sex","introduction","updateProfile","staticRenderFns","component"],"mappings":"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","file":"js/chunk-f230a108.b36b8cec.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-9 left-col\"},[_c('div',{staticClass:\"panel panel-default padding-md\"},[_c('div',{staticClass:\"panel-body\"},[_vm._m(0),_c('hr'),_c('div',{staticClass:\"form-horizontal\",attrs:{\"data-validator-form\":\"\"}},[_c('div',{staticClass:\"form-group \"},[_c('label',{staticClass:\"col-sm-2 control-label\"},[_vm._v(\"学校\")]),_c('div',{staticClass:\"col-sm-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.school),expression:\"school\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.school)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.school=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group \"},[_c('label',{staticClass:\"col-sm-2 control-label\"},[_vm._v(\"学历\")]),_c('div',{staticClass:\"col-sm-6\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.college),expression:\"college\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.college=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"未选择\")]),_c('option',{attrs:{\"value\":\"junior\"}},[_vm._v(\"初中\")]),_c('option',{attrs:{\"value\":\"Senior\"}},[_vm._v(\"高中\")]),_c('option',{attrs:{\"value\":\"associate \"}},[_vm._v(\"专科\")]),_c('option',{attrs:{\"value\":\"bachelor \"}},[_vm._v(\"本科\")]),_c('option',{attrs:{\"value\":\"master\"}},[_vm._v(\"硕士\")]),_c('option',{attrs:{\"value\":\"philosophy \"}},[_vm._v(\"博士\")]),_c('option',{attrs:{\"value\":\"postdoctor\"}},[_vm._v(\"博士后\")])])])]),_c('div',{staticClass:\"form-group \"},[_c('label',{staticClass:\"col-sm-2 control-label\"},[_vm._v(\"性别\")]),_c('div',{staticClass:\"col-sm-6\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sex),expression:\"sex\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.sex=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"未选择\")]),_c('option',{attrs:{\"value\":\"male\"}},[_vm._v(\"男\")]),_c('option',{attrs:{\"value\":\"female\"}},[_vm._v(\"女\")])])])]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-sm-2 control-label\"},[_vm._v(\"个人简介\")]),_c('div',{staticClass:\"col-sm-6\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.introduction),expression:\"introduction\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.introduction)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.introduction=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"col-sm-offset-2 col-sm-6\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.updateProfile}},[_vm._v(\"应用修改\")])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',[_c('b',[_vm._v(\"个人资料\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"col-md-9 left-col\">\n    <div class=\"panel panel-default padding-md\">\n      <div class=\"panel-body\">\n        <h4><b>个人资料</b></h4>\n        <hr>\n        <div class=\"form-horizontal\" data-validator-form>\n          <!-- <div class=\"flex\">\n            <div class=\"avatar-box\">\n              <img :src=\"avatar\" alt=\"头像\" class=\"avatar\">\n            </div>\n            <div class=\"username\">\n              <div class=\"\">\n                <span>第{{id}}用户：{{username}}</span>\n              </div>\n            </div>\n          </div>\n          <div class=\"flex\">\n            <div class=\"update-avatar\">修改头像</div>\n            <div class=\"border\"></div>\n          </div> -->\n          <div class=\"form-group \">\n            <label class=\"col-sm-2 control-label\">学校</label>\n            <div class=\"col-sm-6\">\n              <input v-model.trim=\"school\" type=\"text\" class=\"form-control\">\n            </div>\n          </div>\n\n          <div class=\"form-group \">\n            <label class=\"col-sm-2 control-label\">学历</label>\n            <div class=\"col-sm-6\">\n              <select v-model=\"college\" class=\"form-control\">\n                <option value=\"\">未选择</option>\n                <option value=\"junior\">初中</option>\n                <option value=\"Senior\">高中</option>\n                <option value=\"associate \">专科</option>\n                <option value=\"bachelor \">本科</option>\n                <option value=\"master\">硕士</option>\n                <option value=\"philosophy \">博士</option>\n                <option value=\"postdoctor\">博士后</option>\n              </select>\n            </div>\n          </div>\n\n          <div class=\"form-group \">\n            <label class=\"col-sm-2 control-label\">性别</label>\n            <div class=\"col-sm-6\">\n              <select v-model=\"sex\" class=\"form-control\">\n                <option value=\"\">未选择</option>\n                <option value=\"male\">男</option>\n                <option value=\"female\">女</option>\n              </select>\n            </div>\n          </div>\n          <!-- <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">兴趣</label>\n            <div class=\"col-sm-6\">\n              <el-tag :key=\"tag\" v-for=\"tag in dynamicTags\" closable :disable-transitions=\"false\"\n                @close=\"handleClose(tag)\">\n                {{tag}}\n              </el-tag>\n              <el-input class=\"input-new-tag\" v-if=\"inputVisible\" v-model=\"inputValue\" ref=\"saveTagInput\" size=\"small\"\n                @keyup.enter.native=\"handleInputConfirm\" @blur=\"handleInputConfirm\">\n              </el-input>\n              <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ New Tag</el-button>\n            </div>\n          </div> -->\n          <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">个人简介</label>\n            <div class=\"col-sm-6\">\n              <textarea v-model.trim=\"introduction\" type=\"text\" class=\"form-control\"></textarea>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <div class=\"col-sm-offset-2 col-sm-6\">\n              <button type=\"submit\" class=\"btn btn-primary\" @click=\"updateProfile\">应用修改</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { update } from 'network/user.js'\n  export default {\n    name: 'EditProfile',\n    data() {\n      return {\n        id: '',\n        avatar: '',\n        username: '', // 用户名\n        school: '',//学校\n        college: '',//学历\n        sex: '', // 性别\n        introduction: '', // 个人简介,\n        // hobbies: [], // 兴趣\n\n        // dynamicTags: ['标签一', '标签二', '标签三'],\n        // inputVisible: false,\n        // inputValue: '',\n        // count: 0,\n\n\n      }\n    },\n    created() {\n      const user = this.$store.state.user\n      console.log(\"user\")\n      console.log(user)\n      if (user && typeof user === 'object') {\n        const { id, username, school, college, sex, introduction, avatar } = user\n        this.id = id\n        this.avatar = avatar\n        this.username = username\n        this.school = school\n        this.college = college\n        this.sex = sex || this.sex\n        // this.hobbies = hobbies || this.hobbies\n        this.introduction = introduction\n      }\n\n\n    },\n    methods: {\n      updateProfile(e) {\n        console.log(e)\n\n        update(this.$store.state.user.id, this.school, this.college, this.sex, this.introduction).then(res => {\n          console.log(res)\n          //this.$message.show('修改成功')\n          this.$message({\n            message: '修改成功',\n            type: 'success'\n          });\n          this.$store.dispatch('updateUser', {\n            name: this.username,\n            school: this.school,\n            college: this.college,\n            sex: this.sex,\n            introduction: this.introduction\n          })\n\n        }).catch(err => {\n          this.$message.error('修改失败');\n        })\n\n\n      },\n\n      // handleClose(tag) {\n      //   this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n      //   this.count--;\n      // },\n\n      showInput() {\n        this.inputVisible = true;\n        this.$nextTick(_ => {\n          this.$refs.saveTagInput.$refs.input.focus();\n        });\n      },\n\n      // handleInputConfirm() {\n      //   console.log(this.count)\n      //   if (this.count < 8) {\n      //     let inputValue = this.inputValue;\n      //     if (inputValue) {\n      //       this.dynamicTags.push(inputValue);\n      //       this.count++;\n      //     }\n      //     this.inputVisible = false;\n      //     this.inputValue = '';\n      //   } else {\n      //     this.showMsg(\"最多只能添加8个兴趣标签\", type = 'wraning')\n      //   }\n      // },\n\n      showMsg(msg, type = 'success') {\n        this.msg = msg\n        this.msgType = type\n        this.msgShow = false\n\n        this.$nextTick(() => {\n          this.msgShow = true\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .flex {\n    margin-bottom: 20px;\n  }\n\n  .avatar-box {\n    margin-left: 20px;\n    margin-right: 20px;\n  }\n\n  .avatar {\n    width: 80px;\n    height: 80px;\n  }\n\n  .username {\n    height: 80px;\n    line-height: 80px;\n\n  }\n\n  .update-avatar {\n    margin-left: 30px;\n    margin-right: 20px;\n  }\n\n  span {\n    font-size: 14px;\n    color: #999;\n  }\n\n  .border {\n    height: 10px;\n    border-bottom: 1px solid #ccc;\n    width: 80%;\n  }\n\n  .btn-primary {\n    color: #fff;\n    background-color: #6ca6cd;\n    border-color: #6ca6cd;\n  }\n\n  /* .el-tag+.el-tag {\n    margin-right: 10px;\n  } */\n\n  .button-new-tag {\n    margin-left: 10px;\n    height: 32px;\n    line-height: 30px;\n    padding-top: 0;\n    padding-bottom: 0;\n    margin-top: 10px;\n  }\n\n  .input-new-tag {\n    width: 90px;\n    vertical-align: bottom;\n    margin-top: 10px;\n  }\n\n  .el-tag {\n    margin-top: 10px;\n    margin-right: 10px;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=7b2765ac&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=7b2765ac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b2765ac\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=7b2765ac&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=7b2765ac&scoped=true&lang=css&\""],"sourceRoot":""}